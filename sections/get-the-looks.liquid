<section class="cards-carousel{% if section.settings.full_width %} cards-carousel--full-width{% endif %}" 
         style="background: {{ section.settings.background_color }}; 
                --section-title-size: {{ section.settings.section_title_size }}px;
                --section-title-weight: {{ section.settings.section_title_weight }};
                --card-title-size: {{ section.settings.card_title_size }}px;
                --card-title-weight: {{ section.settings.card_title_weight }};
                --card-title-line-height: {{ section.settings.card_title_line_height }};
                --card-title-color: {{ section.settings.card_title_color }};">
  
  {% if section.settings.title != blank %}
    <div class="cards-carousel__header">
      <h2 class="cards-carousel__title">{{ section.settings.title }}</h2>
    </div>
  {% endif %}

  <div class="cards-carousel__carousel swiper-container">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'card' %}
            <div class="cards-carousel__card swiper-slide" {{ block.shopify_attributes }}>
              <div class="cards-carousel__card-image">
                {% if block.settings.image %}
                  {{ block.settings.image | image_url: width: 1200 | image_tag:
                    loading: 'lazy',
                    alt: block.settings.heading_line1,
                    class: 'cards-carousel__image'
                  }}
                {% endif %}
              </div>
              
              <div class="cards-carousel__card-overlay">
                {% if block.settings.heading_line1 != blank or block.settings.heading_line2 != blank %}
                  <div class="cards-carousel__card-content">
                    <h3 class="cards-carousel__card-heading">
                      {% if block.settings.heading_line1 != blank %}
                        <span class="cards-carousel__card-heading-line1">{{ block.settings.heading_line1 }}</span>
                      {% endif %}
                      {% if block.settings.heading_line2 != blank %}
                        <span class="cards-carousel__card-heading-line2">{{ block.settings.heading_line2 }}</span>
                      {% endif %}
                    </h3>
                  </div>
                {% endif %}
              </div>
            </div>
          
          {% when 'button' %}
            <div class="cards-carousel__card swiper-slide" {{ block.shopify_attributes }}>
              <div class="cards-carousel__card-image">
                {% if block.settings.image %}
                  {{ block.settings.image | image_url: width: 1200 | image_tag:
                    loading: 'lazy',
                    alt: block.settings.button_text,
                    class: 'cards-carousel__image'
                  }}
                {% endif %}
              </div>
              
              <div class="cards-carousel__card-overlay">
                {% if block.settings.heading_line1 != blank or block.settings.heading_line2 != blank %}
                  <div class="cards-carousel__card-content">
                    <h3 class="cards-carousel__card-heading">
                      {% if block.settings.heading_line1 != blank %}
                        <span class="cards-carousel__card-heading-line1">{{ block.settings.heading_line1 }}</span>
                      {% endif %}
                      {% if block.settings.heading_line2 != blank %}
                        <span class="cards-carousel__card-heading-line2">{{ block.settings.heading_line2 }}</span>
                      {% endif %}
                      {% if block.settings.heading_line3 != blank %}
                        <span class="cards-carousel__card-heading-line3">{{ block.settings.heading_line3 }}</span>
                      {% endif %}
                    </h3>
                  </div>
                {% endif %}
                
                {% if block.settings.button_text != blank and block.settings.button_link != blank %}
                  <div class="cards-carousel__card-button-wrapper">
                    <a class="button button--primary cards-carousel__card-button" 
                       href="{{ block.settings.button_link }}">
                      {{ block.settings.button_text }}
                    </a>
                  </div>
                {% endif %}
              </div>
            </div>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Cards Carousel",
  "settings": [
    {
      "type": "header",
      "content": "Section Title Settings"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "GET THE LOOK"
    },
    {
      "type": "range",
      "id": "section_title_size",
      "min": 18,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Section Title Font Size",
      "default": 32
    },
    {
      "type": "select",
      "id": "section_title_weight",
      "label": "Section Title Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        },
        {
          "value": "800",
          "label": "Extra Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Card Title Typography"
    },
    {
      "type": "range",
      "id": "card_title_size",
      "min": 14,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Card Title Font Size",
      "default": 24
    },
    {
      "type": "select",
      "id": "card_title_weight",
      "label": "Card Title Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "card_title_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Card Title Line Height",
      "default": 1.2
    },
    {
      "type": "color",
      "id": "card_title_color",
      "label": "Card Title Color",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "card",
      "name": "Card (No Button)",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading_line1",
          "label": "Card Title - Line 1",
          "default": "Olesia's Chic,"
        },
        {
          "type": "text",
          "id": "heading_line2",
          "label": "Card Title - Line 2",
          "default": "Effortless Look"
        }
      ]
    },
    {
      "type": "button",
      "name": "Card with Button",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading_line1",
          "label": "Card Title - Line 1",
          "default": "Olesia's Chic,"
        },
        {
          "type": "text",
          "id": "heading_line2",
          "label": "Card Title - Line 2",
          "default": "Effortless Look"
        },
        {
          "type": "text",
          "id": "heading_line3",
          "label": "Card Title - Line 3",
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "GET THE LOOK"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Cards Carousel",
      "blocks": [
        {
          "type": "button",
          "settings": {
            "heading_line1": "Olesia's Chic,",
            "heading_line2": "Effortless Look",
            "button_text": "GET THE LOOK"
          }
        },
        {
          "type": "button",
          "settings": {
            "heading_line1": "Deja's Simple",
            "heading_line2": "Smokey Eye",
            "button_text": "GET THE LOOK"
          }
        },
        {
          "type": "button",
          "settings": {
            "heading_line1": "Mollye's",
            "heading_line2": "Monochromatic Look",
            "button_text": "GET THE LOOK"
          }
        },
        {
          "type": "button",
          "settings": {
            "heading_line1": "Adelina's Soft",
            "heading_line2": "Sophistication",
            "button_text": "GET THE LOOK"
          }
        }
      ]
    }
  ]
}
{% endschema %}