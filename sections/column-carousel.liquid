<div class="column-carousel{% if section.settings.full_width %} column-carousel--full-width{% endif %}" 
     style="background: {{ section.settings.background_color }}; 
            --text-color: {{ section.settings.text_color }};
            --heading-size: {{ section.settings.heading_size }}px;
            --heading-weight: {{ section.settings.heading_weight }};
            --description-size: {{ section.settings.description_size }}px;
            --description-weight: {{ section.settings.description_weight }};
            --cta-size: {{ section.settings.cta_size }}px;
            --cta-weight: {{ section.settings.cta_weight }};">
  <div class="column-carousel__carousel swiper-container">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="column-carousel__column swiper-slide">
          <div class="column-carousel__image">
            {% if block.settings.image %}
              {{ block.settings.image | image_url: width: 460 | image_tag: 
                loading: 'lazy',
                width: 230,
                height: 230
              }}
            {% endif %}
          </div>
          <div class="column-carousel__content">
            {% if block.settings.heading != blank %}
              <h3 class="column-carousel__content-heading">{{ block.settings.heading }}</h3>
            {% endif %}
            
            {% if block.settings.description != blank %}
              <div class="column-carousel__content-description">
                {{ block.settings.description }}
              </div>
            {% endif %}
            
            {% if block.settings.link_url != blank %}
              <a class="column-carousel__content-cta" href="{{ block.settings.link_url }}">
                {{ block.settings.link_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Column Carousel",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Typography Settings"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 14,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Heading Font Size",
      "default": 18
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading Font Weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        },
        {
          "value": "800",
          "label": "Extra Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size",
      "default": 14
    },
    {
      "type": "select",
      "id": "description_weight",
      "label": "Description Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "cta_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Link Font Size",
      "default": 14
    },
    {
      "type": "select",
      "id": "cta_weight",
      "label": "Link Font Weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Column",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Column Heading"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Add your description here.</p>"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "Learn More"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Column Carousel",
      "blocks": [
        {
          "type": "column"
        },
        {
          "type": "column"
        },
        {
          "type": "column"
        },
        {
          "type": "column"
        }
      ]
    }
  ]
}
{% endschema %}